<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>xyginext: xy::MessageBus Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">xyginext
   &#160;<span id="projectnumber">0.2.0</span>
   </div>
   <div id="projectbrief">Second generation of xygine game creation framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacexy.html">xy</a></li><li class="navelem"><a class="el" href="classxy_1_1_message_bus.html">MessageBus</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classxy_1_1_message_bus-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">xy::MessageBus Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classxy_1_1_system.html" title="Base class for systems. Systems should all derive from this base class, and instanciated before any e...">System</a> wide message bus for custom event messaging.  
 <a href="classxy_1_1_message_bus.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_message_bus_8hpp_source.html">MessageBus.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aafda9c220f9dfc370f7123310a03433b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aafda9c220f9dfc370f7123310a03433b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MessageBus</b> (const <a class="el" href="classxy_1_1_message_bus.html">MessageBus</a> &amp;)=delete</td></tr>
<tr class="separator:aafda9c220f9dfc370f7123310a03433b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a617f1bddc5aeb72a145e377ce79a5748"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a617f1bddc5aeb72a145e377ce79a5748"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MessageBus</b> (<a class="el" href="classxy_1_1_message_bus.html">MessageBus</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a617f1bddc5aeb72a145e377ce79a5748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26e053040a44c83e350f259d4b1bb920"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a26e053040a44c83e350f259d4b1bb920"></a>
<a class="el" href="classxy_1_1_message_bus.html">MessageBus</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classxy_1_1_message_bus.html">MessageBus</a> &amp;)=delete</td></tr>
<tr class="separator:a26e053040a44c83e350f259d4b1bb920"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e641f5000677568d3a4bc37c4a841fd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6e641f5000677568d3a4bc37c4a841fd"></a>
<a class="el" href="classxy_1_1_message_bus.html">MessageBus</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classxy_1_1_message_bus.html">MessageBus</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a6e641f5000677568d3a4bc37c4a841fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa47ca5f13864b3860ef625162fc98458"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classxy_1_1_message.html">Message</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_message_bus.html#aa47ca5f13864b3860ef625162fc98458">poll</a> ()</td></tr>
<tr class="memdesc:aa47ca5f13864b3860ef625162fc98458"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read and despatch all messages on the message stack.  <a href="#aa47ca5f13864b3860ef625162fc98458">More...</a><br /></td></tr>
<tr class="separator:aa47ca5f13864b3860ef625162fc98458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf60b770636c2f040074275ada3cd278"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:adf60b770636c2f040074275ada3cd278"><td class="memTemplItemLeft" align="right" valign="top">T *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classxy_1_1_message_bus.html#adf60b770636c2f040074275ada3cd278">post</a> (Message::ID id)</td></tr>
<tr class="memdesc:adf60b770636c2f040074275ada3cd278"><td class="mdescLeft">&#160;</td><td class="mdescRight">Places a message on the message stack, and returns a pointer to the data.  <a href="#adf60b770636c2f040074275ada3cd278">More...</a><br /></td></tr>
<tr class="separator:adf60b770636c2f040074275ada3cd278"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade8e9362bc340dd1f14ffa8c1bed84d3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade8e9362bc340dd1f14ffa8c1bed84d3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_message_bus.html#ade8e9362bc340dd1f14ffa8c1bed84d3">empty</a> ()</td></tr>
<tr class="memdesc:ade8e9362bc340dd1f14ffa8c1bed84d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if there are no messages left on the message bus. <br /></td></tr>
<tr class="separator:ade8e9362bc340dd1f14ffa8c1bed84d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72973c60bc28e4a7f31b4ed282a1393c"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_message_bus.html#a72973c60bc28e4a7f31b4ed282a1393c">pendingMessageCount</a> () const </td></tr>
<tr class="memdesc:a72973c60bc28e4a7f31b4ed282a1393c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of messages currently sitting on the message bus.  <a href="#a72973c60bc28e4a7f31b4ed282a1393c">More...</a><br /></td></tr>
<tr class="separator:a72973c60bc28e4a7f31b4ed282a1393c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0687ef2fb49fb5e59573d866719b3d1d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0687ef2fb49fb5e59573d866719b3d1d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_message_bus.html#a0687ef2fb49fb5e59573d866719b3d1d">disable</a> ()</td></tr>
<tr class="memdesc:a0687ef2fb49fb5e59573d866719b3d1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables the message bus. Used internally by xygine. <br /></td></tr>
<tr class="separator:a0687ef2fb49fb5e59573d866719b3d1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classxy_1_1_system.html" title="Base class for systems. Systems should all derive from this base class, and instanciated before any e...">System</a> wide message bus for custom event messaging. </p>
<p>The app class contains an instance of the <a class="el" href="classxy_1_1_message_bus.html" title="System wide message bus for custom event messaging. ">MessageBus</a> which allows events and messages to be broadcast system wide, upon which objects entities and components can decide whether or not to act. Custom message type IDs can be added by extending the ID set starting at Message::Type::Count. EG</p>
<p>enum MyMessageTypes { AlienEvent = Message::Type::Count, GhostEvent, BadgerEvent //etc... }; </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a72973c60bc28e4a7f31b4ed282a1393c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t xy::MessageBus::pendingMessageCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of messages currently sitting on the message bus. </p>
<p>Useful for stat logging and debugging. </p>

</div>
</div>
<a class="anchor" id="aa47ca5f13864b3860ef625162fc98458"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classxy_1_1_message.html">Message</a>&amp; xy::MessageBus::poll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read and despatch all messages on the message stack. </p>
<p>Used internally by xygine </p>

</div>
</div>
<a class="anchor" id="adf60b770636c2f040074275ada3cd278"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T* xy::MessageBus::post </td>
          <td>(</td>
          <td class="paramtype">Message::ID&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Places a message on the message stack, and returns a pointer to the data. </p>
<p>The message data can then be filled in via the pointer. Custom message types can be defined via structs, which are then created on the message bus. Structs should contain only trivial data such as PODs and pointers to other objects. ATTEMPING TO PLACE LARGE OBJECTS DIRECTLY ON THE MESSAGE BUS IS ASKING FOR TROUBLE Custom message types should have a unique 32 bit integer ID which can be used to identify the message type when reading messages. <a class="el" href="classxy_1_1_message.html" title="Message class. ">Message</a> data has a maximum size of 128 bytes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Unique ID for this message type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to an empty message of given type. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
