<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>xygine: xy::Network::ServerConnection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">xygine
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">SFML Based 2D Game Creation Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacexy.html">xy</a></li><li class="navelem"><a class="el" href="namespacexy_1_1_network.html">Network</a></li><li class="navelem"><a class="el" href="classxy_1_1_network_1_1_server_connection.html">ServerConnection</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classxy_1_1_network_1_1_server_connection-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">xy::Network::ServerConnection Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Maintains a group of client connections. The server connection can handle multiple connections from the <a class="el" href="classxy_1_1_network_1_1_client_connection.html" title="Allows creating a connection to a server application running &#39;ServerConnection&#39;. The client/server co...">ClientConnection</a> class, with a configurable maximum number. Connections are maintained via a heartbeat which detects and removes any expired clients, and support acknowledgement packets which can detect packet loss and optionally resend import lost packets.  
 <a href="classxy_1_1_network_1_1_server_connection.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_server_connection_8hpp_source.html">ServerConnection.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxy_1_1_network_1_1_server_connection_1_1_client_info.html">ClientInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains information on connected client.  <a href="structxy_1_1_network_1_1_server_connection_1_1_client_info.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a826d5a556f19aa78b9d4bf4dedef2bc5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a826d5a556f19aa78b9d4bf4dedef2bc5"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#a826d5a556f19aa78b9d4bf4dedef2bc5">PacketHandler</a> = std::function&lt; void(const sf::IpAddress &amp;, PortNumber, Network::PacketType, sf::Packet &amp;, <a class="el" href="classxy_1_1_network_1_1_server_connection.html">ServerConnection</a> *)&gt;</td></tr>
<tr class="memdesc:a826d5a556f19aa78b9d4bf4dedef2bc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom packet handler for received packets. <br /></td></tr>
<tr class="separator:a826d5a556f19aa78b9d4bf4dedef2bc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ff735193d36d36f9db3e51d79729c59"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8ff735193d36d36f9db3e51d79729c59"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#a8ff735193d36d36f9db3e51d79729c59">TimeoutHandler</a> = std::function&lt; void(ClientID)&gt;</td></tr>
<tr class="memdesc:a8ff735193d36d36f9db3e51d79729c59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom disconnect handler for updating the server when a client times out. <br /></td></tr>
<tr class="separator:a8ff735193d36d36f9db3e51d79729c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2f72a519625c4aa0470500ddafc74d9f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2f72a519625c4aa0470500ddafc74d9f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ServerConnection</b> (<a class="el" href="classxy_1_1_message_bus.html">MessageBus</a> &amp;)</td></tr>
<tr class="separator:a2f72a519625c4aa0470500ddafc74d9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72fc99d1c0fa05491b0ef1b243bf00fd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a72fc99d1c0fa05491b0ef1b243bf00fd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ServerConnection</b> (const <a class="el" href="classxy_1_1_network_1_1_server_connection.html">ServerConnection</a> &amp;)=delete</td></tr>
<tr class="separator:a72fc99d1c0fa05491b0ef1b243bf00fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1b0a24591742aeb41a6e96db4021354"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab1b0a24591742aeb41a6e96db4021354"></a>
<a class="el" href="classxy_1_1_network_1_1_server_connection.html">ServerConnection</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classxy_1_1_network_1_1_server_connection.html">ServerConnection</a> &amp;)=delete</td></tr>
<tr class="separator:ab1b0a24591742aeb41a6e96db4021354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26ebbc97c70e9fb2333ba7ece20ac18f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a26ebbc97c70e9fb2333ba7ece20ac18f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#a26ebbc97c70e9fb2333ba7ece20ac18f">setPacketHandler</a> (const <a class="el" href="classxy_1_1_network_1_1_server_connection.html#a826d5a556f19aa78b9d4bf4dedef2bc5">PacketHandler</a> &amp;)</td></tr>
<tr class="memdesc:a26ebbc97c70e9fb2333ba7ece20ac18f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the custom packet handler. Allows flexible handling of custom packets by providing the connection with a custom packet handler. <br /></td></tr>
<tr class="separator:a26ebbc97c70e9fb2333ba7ece20ac18f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc135562a24de2d3424f200b33f6f86d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abc135562a24de2d3424f200b33f6f86d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#abc135562a24de2d3424f200b33f6f86d">setTimeoutHandler</a> (const <a class="el" href="classxy_1_1_network_1_1_server_connection.html#a8ff735193d36d36f9db3e51d79729c59">TimeoutHandler</a> &amp;)</td></tr>
<tr class="memdesc:abc135562a24de2d3424f200b33f6f86d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the custom timeout handler. Allows flexible handling of clients which have timed out and disconnected from the server. <br /></td></tr>
<tr class="separator:abc135562a24de2d3424f200b33f6f86d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cc390b8edf8f729b7a3900cffa38c62"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#a3cc390b8edf8f729b7a3900cffa38c62">send</a> (ClientID, sf::Packet &amp;, bool retry=false, sf::Uint8 retryCount=3u)</td></tr>
<tr class="memdesc:a3cc390b8edf8f729b7a3900cffa38c62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packet to a client.  <a href="#a3cc390b8edf8f729b7a3900cffa38c62">More...</a><br /></td></tr>
<tr class="separator:a3cc390b8edf8f729b7a3900cffa38c62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a851ebd01e5556cc3e21dd8ec3dfc0b60"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#a851ebd01e5556cc3e21dd8ec3dfc0b60">send</a> (const sf::IpAddress &amp;, PortNumber, sf::Packet &amp;, bool retry=false, sf::Uint8 retryCount=3u)</td></tr>
<tr class="memdesc:a851ebd01e5556cc3e21dd8ec3dfc0b60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packet to a client.  <a href="#a851ebd01e5556cc3e21dd8ec3dfc0b60">More...</a><br /></td></tr>
<tr class="separator:a851ebd01e5556cc3e21dd8ec3dfc0b60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa73a8f67ba4bbb71894c65fea006266a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#aa73a8f67ba4bbb71894c65fea006266a">broadcast</a> (sf::Packet &amp;, bool retry=false, sf::Uint8 retryCount=3u, ClientID ignore=Network::NullID)</td></tr>
<tr class="memdesc:aa73a8f67ba4bbb71894c65fea006266a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a packet to all connected clients.  <a href="#aa73a8f67ba4bbb71894c65fea006266a">More...</a><br /></td></tr>
<tr class="separator:aa73a8f67ba4bbb71894c65fea006266a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee2e0bb72096de4941297f855ce0c4bd"><td class="memItemLeft" align="right" valign="top">ClientID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#aee2e0bb72096de4941297f855ce0c4bd">addClient</a> (const sf::IpAddress &amp;, PortNumber)</td></tr>
<tr class="memdesc:aee2e0bb72096de4941297f855ce0c4bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new client at the given address and port number.  <a href="#aee2e0bb72096de4941297f855ce0c4bd">More...</a><br /></td></tr>
<tr class="separator:aee2e0bb72096de4941297f855ce0c4bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae2572e9e940ea21498f0edc274bce5e"><td class="memItemLeft" align="right" valign="top">ClientID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#aae2572e9e940ea21498f0edc274bce5e">getClientID</a> (const sf::IpAddress &amp;, PortNumber)</td></tr>
<tr class="memdesc:aae2572e9e940ea21498f0edc274bce5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Looks up the ClientID associated with the give IP address and port.  <a href="#aae2572e9e940ea21498f0edc274bce5e">More...</a><br /></td></tr>
<tr class="separator:aae2572e9e940ea21498f0edc274bce5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1448e47a2c84b4ca73f025923c6e442"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa1448e47a2c84b4ca73f025923c6e442"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#aa1448e47a2c84b4ca73f025923c6e442">hasClient</a> (ClientID) const </td></tr>
<tr class="memdesc:aa1448e47a2c84b4ca73f025923c6e442"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the given ClientID is found connected to the server else returns false. <br /></td></tr>
<tr class="separator:aa1448e47a2c84b4ca73f025923c6e442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a462671e156bfbff1f27c1aa44c2dfd71"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a462671e156bfbff1f27c1aa44c2dfd71"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#a462671e156bfbff1f27c1aa44c2dfd71">hasClient</a> (const sf::IpAddress &amp;, PortNumber)</td></tr>
<tr class="memdesc:a462671e156bfbff1f27c1aa44c2dfd71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if a client is found connected with the given IP address and port number else returns false. <br /></td></tr>
<tr class="separator:a462671e156bfbff1f27c1aa44c2dfd71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2a20a644420fd41d8de6cae722f928f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#ac2a20a644420fd41d8de6cae722f928f">getClientInfo</a> (ClientID, const <a class="el" href="structxy_1_1_network_1_1_server_connection_1_1_client_info.html">ClientInfo</a> *)</td></tr>
<tr class="memdesc:ac2a20a644420fd41d8de6cae722f928f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests the <a class="el" href="structxy_1_1_network_1_1_server_connection_1_1_client_info.html" title="Contains information on connected client. ">ClientInfo</a> data of the given ClientID.  <a href="#ac2a20a644420fd41d8de6cae722f928f">More...</a><br /></td></tr>
<tr class="separator:ac2a20a644420fd41d8de6cae722f928f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95eef8d20bad5e8ecbf2eba34abffdc9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#a95eef8d20bad5e8ecbf2eba34abffdc9">removeClient</a> (ClientID)</td></tr>
<tr class="memdesc:a95eef8d20bad5e8ecbf2eba34abffdc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the client with the given ID.  <a href="#a95eef8d20bad5e8ecbf2eba34abffdc9">More...</a><br /></td></tr>
<tr class="separator:a95eef8d20bad5e8ecbf2eba34abffdc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3528a5c5a513a42815b24ac7c5abb42a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#a3528a5c5a513a42815b24ac7c5abb42a">removeClient</a> (const sf::IpAddress &amp;, PortNumber)</td></tr>
<tr class="memdesc:a3528a5c5a513a42815b24ac7c5abb42a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the client matching the given IP address and port number.  <a href="#a3528a5c5a513a42815b24ac7c5abb42a">More...</a><br /></td></tr>
<tr class="separator:a3528a5c5a513a42815b24ac7c5abb42a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d3ba60f82ec02c08e998a783b0b101"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89d3ba60f82ec02c08e998a783b0b101"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#a89d3ba60f82ec02c08e998a783b0b101">disconnectAll</a> ()</td></tr>
<tr class="memdesc:a89d3ba60f82ec02c08e998a783b0b101"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnects all connected clients. <br /></td></tr>
<tr class="separator:a89d3ba60f82ec02c08e998a783b0b101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a669b8673ffb99052da7bea709e5c58"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#a3a669b8673ffb99052da7bea709e5c58">start</a> (PortNumber=sf::Uint16(Network::ServerPort))</td></tr>
<tr class="memdesc:a3a669b8673ffb99052da7bea709e5c58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the connection listening for incoming client connections.  <a href="#a3a669b8673ffb99052da7bea709e5c58">More...</a><br /></td></tr>
<tr class="separator:a3a669b8673ffb99052da7bea709e5c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa41bf12a0a88234bcfd153fdb8f553fb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa41bf12a0a88234bcfd153fdb8f553fb"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#aa41bf12a0a88234bcfd153fdb8f553fb">stop</a> ()</td></tr>
<tr class="memdesc:aa41bf12a0a88234bcfd153fdb8f553fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the connection listening for incoming client connections and disconnects all existing clients. <br /></td></tr>
<tr class="separator:aa41bf12a0a88234bcfd153fdb8f553fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77a6c0014bebcfad16ca0f46e70239a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#a77a6c0014bebcfad16ca0f46e70239a2">update</a> (float)</td></tr>
<tr class="memdesc:a77a6c0014bebcfad16ca0f46e70239a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the connection.  <a href="#a77a6c0014bebcfad16ca0f46e70239a2">More...</a><br /></td></tr>
<tr class="separator:a77a6c0014bebcfad16ca0f46e70239a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad710f5113a976e671a92a39165f654f5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad710f5113a976e671a92a39165f654f5"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#ad710f5113a976e671a92a39165f654f5">running</a> () const </td></tr>
<tr class="memdesc:ad710f5113a976e671a92a39165f654f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if connection is listening else returns false. <br /></td></tr>
<tr class="separator:ad710f5113a976e671a92a39165f654f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09b554cd3726d407ee52200972fabc9f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a09b554cd3726d407ee52200972fabc9f"></a>
std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#a09b554cd3726d407ee52200972fabc9f">getClientCount</a> () const </td></tr>
<tr class="memdesc:a09b554cd3726d407ee52200972fabc9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of currently connected clients. <br /></td></tr>
<tr class="separator:a09b554cd3726d407ee52200972fabc9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c4b1abbaf3b3555eb66b1ca5b849935"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5c4b1abbaf3b3555eb66b1ca5b849935"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#a5c4b1abbaf3b3555eb66b1ca5b849935">setMaxClients</a> (std::size_t)</td></tr>
<tr class="memdesc:a5c4b1abbaf3b3555eb66b1ca5b849935"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the maximum number of connected clients. Any connection reuests made after this number is met will be rejected. <br /></td></tr>
<tr class="separator:a5c4b1abbaf3b3555eb66b1ca5b849935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab62e56ca763346bd34503e4df6f696de"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab62e56ca763346bd34503e4df6f696de"></a>
std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#ab62e56ca763346bd34503e4df6f696de">getMaxClients</a> () const </td></tr>
<tr class="memdesc:ab62e56ca763346bd34503e4df6f696de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current number of client connections allowed to the server. <br /></td></tr>
<tr class="separator:ab62e56ca763346bd34503e4df6f696de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52df82650f49a605bf9e40ed275c9740"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a52df82650f49a605bf9e40ed275c9740"></a>
sf::Mutex &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classxy_1_1_network_1_1_server_connection.html#a52df82650f49a605bf9e40ed275c9740">getMutex</a> ()</td></tr>
<tr class="memdesc:a52df82650f49a605bf9e40ed275c9740"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the mutex used by the connection's packet handler thread. This should be used in custom packet handlers when modifying data outside of the handler's thread. <br /></td></tr>
<tr class="separator:a52df82650f49a605bf9e40ed275c9740"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Maintains a group of client connections. The server connection can handle multiple connections from the <a class="el" href="classxy_1_1_network_1_1_client_connection.html" title="Allows creating a connection to a server application running &#39;ServerConnection&#39;. The client/server co...">ClientConnection</a> class, with a configurable maximum number. Connections are maintained via a heartbeat which detects and removes any expired clients, and support acknowledgement packets which can detect packet loss and optionally resend import lost packets. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aee2e0bb72096de4941297f855ce0c4bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ClientID ServerConnection::addClient </td>
          <td>(</td>
          <td class="paramtype">const sf::IpAddress &amp;&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PortNumber&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a new client at the given address and port number. </p>
<dl class="section return"><dt>Returns</dt><dd>ClientID is the new ID of the connected client </dd></dl>

</div>
</div>
<a class="anchor" id="aa73a8f67ba4bbb71894c65fea006266a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ServerConnection::broadcast </td>
          <td>(</td>
          <td class="paramtype">sf::Packet &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>retry</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sf::Uint8&#160;</td>
          <td class="paramname"><em>retryCount</em> = <code>3u</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ClientID&#160;</td>
          <td class="paramname"><em>ignore</em> = <code>Network::NullID</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a packet to all connected clients. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Packet</td><td>Packet of data to send </td></tr>
    <tr><td class="paramname">retry</td><td>Retries sending this packet if the client connection doesn't acknowledge it when true </td></tr>
    <tr><td class="paramname">retryCount</td><td>Number of times to retry sending the packet before it is considered lost </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aae2572e9e940ea21498f0edc274bce5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ClientID ServerConnection::getClientID </td>
          <td>(</td>
          <td class="paramtype">const sf::IpAddress &amp;&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PortNumber&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Looks up the ClientID associated with the give IP address and port. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns the ClientID if found, else -1 </dd></dl>

</div>
</div>
<a class="anchor" id="ac2a20a644420fd41d8de6cae722f928f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServerConnection::getClientInfo </td>
          <td>(</td>
          <td class="paramtype">ClientID&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structxy_1_1_network_1_1_server_connection_1_1_client_info.html">ClientInfo</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Requests the <a class="el" href="structxy_1_1_network_1_1_server_connection_1_1_client_info.html" title="Contains information on connected client. ">ClientInfo</a> data of the given ClientID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ClientID</td><td>ID of the client to request the info for </td></tr>
    <tr><td class="paramname"><a class="el" href="structxy_1_1_network_1_1_server_connection_1_1_client_info.html" title="Contains information on connected client. ">ClientInfo</a></td><td>pointer to struct to receive info if it is found </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if client is found and <a class="el" href="structxy_1_1_network_1_1_server_connection_1_1_client_info.html" title="Contains information on connected client. ">ClientInfo</a> is valid else returns false </dd></dl>

</div>
</div>
<a class="anchor" id="a95eef8d20bad5e8ecbf2eba34abffdc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServerConnection::removeClient </td>
          <td>(</td>
          <td class="paramtype">ClientID&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes the client with the given ID. </p>
<dl class="section return"><dt>Returns</dt><dd>true if successful, else returns false </dd></dl>

</div>
</div>
<a class="anchor" id="a3528a5c5a513a42815b24ac7c5abb42a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServerConnection::removeClient </td>
          <td>(</td>
          <td class="paramtype">const sf::IpAddress &amp;&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PortNumber&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes the client matching the given IP address and port number. </p>
<dl class="section return"><dt>Returns</dt><dd>true if successful else returns false </dd></dl>

</div>
</div>
<a class="anchor" id="a3cc390b8edf8f729b7a3900cffa38c62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServerConnection::send </td>
          <td>(</td>
          <td class="paramtype">ClientID&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sf::Packet &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>retry</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sf::Uint8&#160;</td>
          <td class="paramname"><em>retryCount</em> = <code>3u</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a packet to a client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ClientID</td><td>ID of client to send the packet to </td></tr>
    <tr><td class="paramname">Packet</td><td>Packet of data to send </td></tr>
    <tr><td class="paramname">retry</td><td>Retries sending this packet if the client connection doesn't acknowledge it when true </td></tr>
    <tr><td class="paramname">retryCount</td><td>Number of times to retry sending the packet before it is considered lost </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a851ebd01e5556cc3e21dd8ec3dfc0b60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServerConnection::send </td>
          <td>(</td>
          <td class="paramtype">const sf::IpAddress &amp;&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PortNumber&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sf::Packet &amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>retry</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sf::Uint8&#160;</td>
          <td class="paramname"><em>retryCount</em> = <code>3u</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a packet to a client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">IpAddress</td><td>Address of the client to send the packet to </td></tr>
    <tr><td class="paramname">PortNumber</td><td>Port number of the client connection to send the packet to </td></tr>
    <tr><td class="paramname">Packet</td><td>Packet of data to send </td></tr>
    <tr><td class="paramname">retry</td><td>Retries sending this packet if the client connection doesn't acknowledge it when true </td></tr>
    <tr><td class="paramname">retryCount</td><td>Number of times to retry sending the packet before it is considered lost </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3a669b8673ffb99052da7bea709e5c58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ServerConnection::start </td>
          <td>(</td>
          <td class="paramtype">PortNumber&#160;</td>
          <td class="paramname"><em>port</em> = <code>sf::Uint16(Network::ServerPort)</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the connection listening for incoming client connections. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">PortNumber</td><td>Port to start listening for incoming connections on. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a77a6c0014bebcfad16ca0f46e70239a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ServerConnection::update </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">float</td><td>Delta time in seconds since last update </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
