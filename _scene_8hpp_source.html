<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>xygine: C:/Users/Matt/Documents/Visual Studio 2015/Projects/xygine/xygine/include/xygine/Scene.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">xygine
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">SFML Based 2D Game Creation Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_4d209b5b760f516cd5a2179341e2b1c7.html">xygine</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Scene.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*********************************************************************</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">© Matt Marchant 2014 - 2017</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">http://trederia.blogspot.com</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">xygine - Zlib license.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">This software is provided &#39;as-is&#39;, without any express or</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">implied warranty. In no event will the authors be held</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">liable for any damages arising from the use of this software.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">Permission is granted to anyone to use this software for any purpose,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">including commercial applications, and to alter it and redistribute</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">it freely, subject to the following restrictions:</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">1. The origin of this software must not be misrepresented;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">you must not claim that you wrote the original software.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">If you use this software in a product, an acknowledgment</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">in the product documentation would be appreciated but</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">is not required.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">2. Altered source versions must be plainly marked as such,</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">and must not be misrepresented as being the original software.</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">3. This notice may not be removed or altered from any</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">source distribution.</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">*********************************************************************/</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">//root class containing scene entities</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#ifndef XY_SCENE_HPP_</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#define XY_SCENE_HPP_</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;xygine/Entity.hpp&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;xygine/postprocess/PostProcess.hpp&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;xygine/Command.hpp&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;xygine/QuadTree.hpp&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;xygine/components/Camera.hpp&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;SFML/Graphics/Drawable.hpp&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;SFML/Graphics/RenderTexture.hpp&gt;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;SFML/System/Vector3.hpp&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacexy.html">xy</a></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keyword">class </span>PointLight;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="classxy_1_1_scene.html">   56</a></span>&#160;    <span class="keyword">class </span>XY_EXPORT_API <a class="code" href="classxy_1_1_scene.html">Scene</a> final : <span class="keyword">public</span> sf::Drawable</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structxy_1_1_scene_1_1_sky_light.html">   67</a></span>&#160;        <span class="keyword">struct </span>XY_EXPORT_API <a class="code" href="structxy_1_1_scene_1_1_sky_light.html">SkyLight</a> final</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            <a class="code" href="structxy_1_1_scene_1_1_sky_light.html">SkyLight</a>() : m_diffuseColour(sf::Color::White), m_specularColour(sf::Color::White), m_direction(0.f, 1.f, 0.f), m_intensity(0.f) {}</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            ~<a class="code" href="structxy_1_1_scene_1_1_sky_light.html">SkyLight</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="structxy_1_1_scene_1_1_sky_light.html#abc22872bb515e134ea67bf3a95d88165">   75</a></span>&#160;            <span class="keyword">const</span> sf::Color&amp; <a class="code" href="structxy_1_1_scene_1_1_sky_light.html#abc22872bb515e134ea67bf3a95d88165">getDiffuseColour</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_diffuseColour; }</div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structxy_1_1_scene_1_1_sky_light.html#a4a3a8f2a36c22e4cd86660394aa84538">   79</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="structxy_1_1_scene_1_1_sky_light.html#a4a3a8f2a36c22e4cd86660394aa84538">setDiffuseColour</a>(<span class="keyword">const</span> sf::Color&amp; c) { m_diffuseColour = c; }</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="structxy_1_1_scene_1_1_sky_light.html#ae30a5a5abc284e41a2a69033be942435">   83</a></span>&#160;            <span class="keyword">const</span> sf::Color&amp; <a class="code" href="structxy_1_1_scene_1_1_sky_light.html#ae30a5a5abc284e41a2a69033be942435">getSpecularColour</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_specularColour; }</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structxy_1_1_scene_1_1_sky_light.html#a2707939c05dfb1d4aac3b56a76454487">   88</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="structxy_1_1_scene_1_1_sky_light.html#a2707939c05dfb1d4aac3b56a76454487">setSpecularColour</a>(<span class="keyword">const</span> sf::Color&amp; c) { m_specularColour = c; }</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structxy_1_1_scene_1_1_sky_light.html#a1f88359ae04b69765e896f27b085e560">   92</a></span>&#160;            <span class="keyword">const</span> sf::Vector3f&amp; <a class="code" href="structxy_1_1_scene_1_1_sky_light.html#a1f88359ae04b69765e896f27b085e560">getDirection</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_direction; }</div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="structxy_1_1_scene_1_1_sky_light.html#a74bf0d5ec4ca57f132081e08a684f798">   96</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="structxy_1_1_scene_1_1_sky_light.html#a74bf0d5ec4ca57f132081e08a684f798">setDirection</a>(<span class="keyword">const</span> sf::Vector3f&amp; d) { m_direction = d; }</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="structxy_1_1_scene_1_1_sky_light.html#abf429e72d67e219e5f2b8fabf8fc8b61">  103</a></span>&#160;            <span class="keywordtype">float</span> <a class="code" href="structxy_1_1_scene_1_1_sky_light.html#abf429e72d67e219e5f2b8fabf8fc8b61">getIntensity</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_intensity; }</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structxy_1_1_scene_1_1_sky_light.html#a16631d43172046657361ff2314e26c26">  110</a></span>&#160;            <span class="keywordtype">void</span> <a class="code" href="structxy_1_1_scene_1_1_sky_light.html#a16631d43172046657361ff2314e26c26">setIntensity</a>(<span class="keywordtype">float</span> i) { XY_ASSERT(i &gt;= 0, <span class="stringliteral">&quot;Must be a positive value&quot;</span>); m_intensity = i; }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keyword">private</span>:</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            sf::Color m_diffuseColour;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            sf::Color m_specularColour;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            sf::Vector3f m_direction;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="keywordtype">float</span> m_intensity;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        };</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="classxy_1_1_scene.html#a0bf10e5ead2c4248f2f3e2c4536a5240">  121</a></span>&#160;        <span class="keyword">enum</span> <a class="code" href="classxy_1_1_scene.html#a0bf10e5ead2c4248f2f3e2c4536a5240">Layer</a></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            BackRear = 0,</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            BackMiddle,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            BackFront,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            FrontRear,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            FrontMiddle,</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            FrontFront,</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            UI,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            Count</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        };</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keyword">explicit</span> <a class="code" href="classxy_1_1_scene.html">Scene</a>(<a class="code" href="classxy_1_1_message_bus.html">MessageBus</a>&amp;);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        ~<a class="code" href="classxy_1_1_scene.html">Scene</a>();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <a class="code" href="classxy_1_1_scene.html">Scene</a>(<span class="keyword">const</span> <a class="code" href="classxy_1_1_scene.html">Scene</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keyword">const</span> <a class="code" href="classxy_1_1_scene.html">Scene</a>&amp; operator = (<span class="keyword">const</span> <a class="code" href="classxy_1_1_scene.html">Scene</a>&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordtype">void</span> update(<span class="keywordtype">float</span>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordtype">void</span> handleMessage(<span class="keyword">const</span> <a class="code" href="classxy_1_1_message.html">Message</a>&amp;);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <a class="code" href="classxy_1_1_entity.html">Entity</a>* addEntity(Entity::Ptr&amp;, Layer);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="classxy_1_1_entity.html">Entity</a>* findEntity(sf::Uint64);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="classxy_1_1_entity.html">Entity</a>&amp; getLayer(Layer);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordtype">void</span> setView(<span class="keyword">const</span> sf::View&amp; v);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        sf::View getView() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        sf::FloatRect getVisibleArea() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordtype">void</span> setActiveCamera(<span class="keyword">const</span> <a class="code" href="classxy_1_1_camera.html">Camera</a>*);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordtype">void</span> setClearColour(<span class="keyword">const</span> sf::Color&amp;);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordtype">void</span> setSize(<span class="keyword">const</span> sf::FloatRect&amp;);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordtype">void</span> sendCommand(<span class="keyword">const</span> <a class="code" href="structxy_1_1_command.html">Command</a>&amp;);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        std::vector&lt;QuadTreeComponent*&gt; queryQuadTree(<span class="keyword">const</span> sf::FloatRect&amp;) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        std::vector&lt;PointLight*&gt; getVisibleLights(<span class="keyword">const</span> sf::FloatRect&amp;) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordtype">void</span> reset();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordtype">void</span> addPostProcess(PostProcess::Ptr&amp;);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordtype">void</span> drawDebug(<span class="keywordtype">bool</span>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keyword">static</span> sf::Transform getViewMatrix();</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="classxy_1_1_scene.html#ad2693dc43b077e49c66dc3c6653e6b04">  269</a></span>&#160;        <span class="keyword">const</span> sf::Color&amp; <a class="code" href="classxy_1_1_scene.html#ad2693dc43b077e49c66dc3c6653e6b04">getAmbientColour</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_ambientColour; }</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="classxy_1_1_scene.html#a60790e3fd2d8169e68ceb990e681c1ac">  274</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classxy_1_1_scene.html#a60790e3fd2d8169e68ceb990e681c1ac">setAmbientColour</a>(<span class="keyword">const</span> sf::Color&amp; colour) { m_ambientColour = colour; }</div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="classxy_1_1_scene.html#a0943d7d56e5ab466af7d46fcd7c2bda9">  280</a></span>&#160;        <a class="code" href="structxy_1_1_scene_1_1_sky_light.html">SkyLight</a>&amp; <a class="code" href="classxy_1_1_scene.html#a0943d7d56e5ab466af7d46fcd7c2bda9">getSkyLight</a>() { <span class="keywordflow">return</span> m_skyLight; }</div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="classxy_1_1_scene.html#a82635a5258216f14577758700b6de38c">  284</a></span>&#160;        <span class="keyword">const</span> <a class="code" href="structxy_1_1_scene_1_1_sky_light.html">SkyLight</a>&amp; <a class="code" href="classxy_1_1_scene.html#a82635a5258216f14577758700b6de38c">getSkyLight</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_skyLight; }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <a class="code" href="classxy_1_1_quad_tree.html">QuadTree</a> m_quadTree; <span class="comment">//must live longer than any entity</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <a class="code" href="classxy_1_1_quad_tree.html">QuadTree</a> m_lightTree;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        sf::Color m_ambientColour;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        SkyLight m_skyLight;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        std::vector&lt;Entity::Ptr&gt; m_layers;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        std::vector&lt;std::pair&lt;Layer, Entity::Ptr&gt;&gt; m_pendingEntities;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="classxy_1_1_camera.html">Camera</a>* m_defaultCamera;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keyword">const</span> <a class="code" href="classxy_1_1_camera.html">Camera</a>* m_activeCamera;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <a class="code" href="classxy_1_1_message_bus.html">MessageBus</a>&amp; m_messageBus;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <a class="code" href="classxy_1_1_command_queue.html">CommandQueue</a> m_commandQueue;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="keywordtype">bool</span> m_drawDebug;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keyword">struct </span><a class="code" href="classxy_1_1_render_pass.html">RenderPass</a></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            PostProcess::Ptr postEffect;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            sf::RenderTexture* inBuffer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            sf::RenderTexture* outBuffer = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        };</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        std::vector&lt;RenderPass&gt; m_renderPasses;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keyword">mutable</span> sf::RenderTexture m_sceneBufferA;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="keyword">mutable</span> sf::RenderTexture m_sceneBufferB;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        std::function&lt;void(sf::RenderTarget&amp;, sf::RenderStates)&gt; m_currentRenderPath;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordtype">void</span> draw(sf::RenderTarget&amp;, sf::RenderStates) <span class="keyword">const override</span>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keywordtype">void</span> defaultRenderPath(sf::RenderTarget&amp;, sf::RenderStates) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordtype">void</span> postEffectRenderPath(sf::RenderTarget&amp;, sf::RenderStates) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordtype">void</span> setupConCommands();</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    };</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="preprocessor">#endif //XY_SCENE_HPP_</span></div>
<div class="ttc" id="namespacexy_html"><div class="ttname"><a href="namespacexy.html">xy</a></div><div class="ttdoc">Main xygine namespace. </div><div class="ttdef"><b>Definition:</b> App.hpp:55</div></div>
<div class="ttc" id="classxy_1_1_scene_html_ad2693dc43b077e49c66dc3c6653e6b04"><div class="ttname"><a href="classxy_1_1_scene.html#ad2693dc43b077e49c66dc3c6653e6b04">xy::Scene::getAmbientColour</a></div><div class="ttdeci">const sf::Color &amp; getAmbientColour() const </div><div class="ttdoc">Retrieves the scene&#39;s current ambient colour for shaders which perform lighting. </div><div class="ttdef"><b>Definition:</b> Scene.hpp:269</div></div>
<div class="ttc" id="classxy_1_1_scene_html_a0bf10e5ead2c4248f2f3e2c4536a5240"><div class="ttname"><a href="classxy_1_1_scene.html#a0bf10e5ead2c4248f2f3e2c4536a5240">xy::Scene::Layer</a></div><div class="ttdeci">Layer</div><div class="ttdoc">Layer names to which entities may be added. </div><div class="ttdef"><b>Definition:</b> Scene.hpp:121</div></div>
<div class="ttc" id="classxy_1_1_message_bus_html"><div class="ttname"><a href="classxy_1_1_message_bus.html">xy::MessageBus</a></div><div class="ttdoc">System wide message bus for custom event messaging. </div><div class="ttdef"><b>Definition:</b> MessageBus.hpp:251</div></div>
<div class="ttc" id="structxy_1_1_scene_1_1_sky_light_html_ae30a5a5abc284e41a2a69033be942435"><div class="ttname"><a href="structxy_1_1_scene_1_1_sky_light.html#ae30a5a5abc284e41a2a69033be942435">xy::Scene::SkyLight::getSpecularColour</a></div><div class="ttdeci">const sf::Color &amp; getSpecularColour() const </div><div class="ttdoc">Gets the current specular colour. </div><div class="ttdef"><b>Definition:</b> Scene.hpp:83</div></div>
<div class="ttc" id="classxy_1_1_quad_tree_html"><div class="ttname"><a href="classxy_1_1_quad_tree.html">xy::QuadTree</a></div><div class="ttdoc">Quad Tree spatial partitioning class. </div><div class="ttdef"><b>Definition:</b> QuadTree.hpp:50</div></div>
<div class="ttc" id="structxy_1_1_scene_1_1_sky_light_html_abc22872bb515e134ea67bf3a95d88165"><div class="ttname"><a href="structxy_1_1_scene_1_1_sky_light.html#abc22872bb515e134ea67bf3a95d88165">xy::Scene::SkyLight::getDiffuseColour</a></div><div class="ttdeci">const sf::Color &amp; getDiffuseColour() const </div><div class="ttdoc">Returns the current diffuse colour of the sky light. </div><div class="ttdef"><b>Definition:</b> Scene.hpp:75</div></div>
<div class="ttc" id="classxy_1_1_scene_html_a82635a5258216f14577758700b6de38c"><div class="ttname"><a href="classxy_1_1_scene.html#a82635a5258216f14577758700b6de38c">xy::Scene::getSkyLight</a></div><div class="ttdeci">const SkyLight &amp; getSkyLight() const </div><div class="ttdoc">Returns const reference to the Scene&#39;s sky light. </div><div class="ttdef"><b>Definition:</b> Scene.hpp:284</div></div>
<div class="ttc" id="classxy_1_1_scene_html_a0943d7d56e5ab466af7d46fcd7c2bda9"><div class="ttname"><a href="classxy_1_1_scene.html#a0943d7d56e5ab466af7d46fcd7c2bda9">xy::Scene::getSkyLight</a></div><div class="ttdeci">SkyLight &amp; getSkyLight()</div><div class="ttdoc">Returns a modifyable (non-const) reference to the Scene&#39;s sky light. This can be used to set the prop...</div><div class="ttdef"><b>Definition:</b> Scene.hpp:280</div></div>
<div class="ttc" id="classxy_1_1_command_queue_html"><div class="ttname"><a href="classxy_1_1_command_queue.html">xy::CommandQueue</a></div><div class="ttdoc">Queue of commands to be executed by Entities in a scene. </div><div class="ttdef"><b>Definition:</b> Command.hpp:66</div></div>
<div class="ttc" id="structxy_1_1_scene_1_1_sky_light_html_a4a3a8f2a36c22e4cd86660394aa84538"><div class="ttname"><a href="structxy_1_1_scene_1_1_sky_light.html#a4a3a8f2a36c22e4cd86660394aa84538">xy::Scene::SkyLight::setDiffuseColour</a></div><div class="ttdeci">void setDiffuseColour(const sf::Color &amp;c)</div><div class="ttdoc">Sets the current diffuse colour of the sky light. </div><div class="ttdef"><b>Definition:</b> Scene.hpp:79</div></div>
<div class="ttc" id="classxy_1_1_camera_html"><div class="ttname"><a href="classxy_1_1_camera.html">xy::Camera</a></div><div class="ttdoc">Camera Component. </div><div class="ttdef"><b>Definition:</b> Camera.hpp:50</div></div>
<div class="ttc" id="structxy_1_1_scene_1_1_sky_light_html_a1f88359ae04b69765e896f27b085e560"><div class="ttname"><a href="structxy_1_1_scene_1_1_sky_light.html#a1f88359ae04b69765e896f27b085e560">xy::Scene::SkyLight::getDirection</a></div><div class="ttdeci">const sf::Vector3f &amp; getDirection() const </div><div class="ttdoc">Gets the direction from which the sky light is cast. </div><div class="ttdef"><b>Definition:</b> Scene.hpp:92</div></div>
<div class="ttc" id="classxy_1_1_render_pass_html"><div class="ttname"><a href="classxy_1_1_render_pass.html">xy::RenderPass</a></div><div class="ttdoc">Represents an OpenGL state used during a specific render pass. </div><div class="ttdef"><b>Definition:</b> RenderPass.hpp:89</div></div>
<div class="ttc" id="structxy_1_1_scene_1_1_sky_light_html_a16631d43172046657361ff2314e26c26"><div class="ttname"><a href="structxy_1_1_scene_1_1_sky_light.html#a16631d43172046657361ff2314e26c26">xy::Scene::SkyLight::setIntensity</a></div><div class="ttdeci">void setIntensity(float i)</div><div class="ttdoc">Sets the sky light intensity. A value of 0 effectively turns off the light, and any positive value is...</div><div class="ttdef"><b>Definition:</b> Scene.hpp:110</div></div>
<div class="ttc" id="structxy_1_1_scene_1_1_sky_light_html_a2707939c05dfb1d4aac3b56a76454487"><div class="ttname"><a href="structxy_1_1_scene_1_1_sky_light.html#a2707939c05dfb1d4aac3b56a76454487">xy::Scene::SkyLight::setSpecularColour</a></div><div class="ttdeci">void setSpecularColour(const sf::Color &amp;c)</div><div class="ttdoc">Sets the sky light&#39;s specular colour. The specular colour is use to tint the glossy highlights from t...</div><div class="ttdef"><b>Definition:</b> Scene.hpp:88</div></div>
<div class="ttc" id="classxy_1_1_message_html"><div class="ttname"><a href="classxy_1_1_message.html">xy::Message</a></div><div class="ttdoc">Message class. </div><div class="ttdef"><b>Definition:</b> MessageBus.hpp:79</div></div>
<div class="ttc" id="structxy_1_1_command_html"><div class="ttname"><a href="structxy_1_1_command.html">xy::Command</a></div><div class="ttdoc">Command struct. </div><div class="ttdef"><b>Definition:</b> Command.hpp:46</div></div>
<div class="ttc" id="classxy_1_1_entity_html"><div class="ttname"><a href="classxy_1_1_entity.html">xy::Entity</a></div><div class="ttdoc">Entity class. </div><div class="ttdef"><b>Definition:</b> Entity.hpp:63</div></div>
<div class="ttc" id="structxy_1_1_scene_1_1_sky_light_html_a74bf0d5ec4ca57f132081e08a684f798"><div class="ttname"><a href="structxy_1_1_scene_1_1_sky_light.html#a74bf0d5ec4ca57f132081e08a684f798">xy::Scene::SkyLight::setDirection</a></div><div class="ttdeci">void setDirection(const sf::Vector3f &amp;d)</div><div class="ttdoc">Sets the direction from which the sky light is cast. </div><div class="ttdef"><b>Definition:</b> Scene.hpp:96</div></div>
<div class="ttc" id="classxy_1_1_scene_html"><div class="ttname"><a href="classxy_1_1_scene.html">xy::Scene</a></div><div class="ttdoc">Scene class. </div><div class="ttdef"><b>Definition:</b> Scene.hpp:56</div></div>
<div class="ttc" id="structxy_1_1_scene_1_1_sky_light_html"><div class="ttname"><a href="structxy_1_1_scene_1_1_sky_light.html">xy::Scene::SkyLight</a></div><div class="ttdoc">A single directional light, used by normal mapped materials and the mesh renderer. Useful for representing sun/moon light or any far off light source. Setting the intensity to zero will disable the light altogether (preventing it from being considered in lighting calculations). By default the sky light is disabled. </div><div class="ttdef"><b>Definition:</b> Scene.hpp:67</div></div>
<div class="ttc" id="classxy_1_1_scene_html_a60790e3fd2d8169e68ceb990e681c1ac"><div class="ttname"><a href="classxy_1_1_scene.html#a60790e3fd2d8169e68ceb990e681c1ac">xy::Scene::setAmbientColour</a></div><div class="ttdeci">void setAmbientColour(const sf::Color &amp;colour)</div><div class="ttdoc">Sets the ambient colour for shaders which are used in scene lighting. </div><div class="ttdef"><b>Definition:</b> Scene.hpp:274</div></div>
<div class="ttc" id="structxy_1_1_scene_1_1_sky_light_html_abf429e72d67e219e5f2b8fabf8fc8b61"><div class="ttname"><a href="structxy_1_1_scene_1_1_sky_light.html#abf429e72d67e219e5f2b8fabf8fc8b61">xy::Scene::SkyLight::getIntensity</a></div><div class="ttdeci">float getIntensity() const </div><div class="ttdoc">Returns the intensity of the sky light. Zeros is off and no light is cast. 1 is full brightness...</div><div class="ttdef"><b>Definition:</b> Scene.hpp:103</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
